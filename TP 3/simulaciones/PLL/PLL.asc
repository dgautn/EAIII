Version 4
SHEET 1 1416 804
WIRE -128 -144 -512 -144
WIRE -448 -32 -480 -32
WIRE -432 -32 -448 -32
WIRE -480 -16 -480 -32
WIRE -448 0 -448 -32
WIRE -432 0 -448 0
WIRE -512 32 -512 -144
WIRE -432 32 -512 32
WIRE 0 80 -16 80
WIRE 96 80 64 80
WIRE 112 80 96 80
WIRE 352 80 352 48
WIRE 352 80 320 80
WIRE -16 112 -16 80
WIRE 96 112 -16 112
WIRE 112 112 96 112
WIRE 352 112 320 112
WIRE 496 112 432 112
WIRE 544 112 496 112
WIRE -80 144 -80 80
WIRE 112 144 -80 144
WIRE 352 144 320 144
WIRE 496 144 496 112
WIRE 496 144 432 144
WIRE -128 176 -128 -144
WIRE -96 176 -128 176
WIRE 112 176 -96 176
WIRE 448 176 320 176
WIRE 496 176 496 144
WIRE 496 176 448 176
WIRE -64 208 -128 208
WIRE 112 208 -64 208
WIRE 416 208 320 208
WIRE 576 208 416 208
WIRE 112 240 -80 240
WIRE 576 240 320 240
WIRE -80 272 -80 240
WIRE 112 272 0 272
WIRE 352 272 320 272
WIRE 0 304 0 272
WIRE 112 304 80 304
WIRE 352 304 352 272
WIRE 352 304 320 304
WIRE 416 320 416 208
WIRE 352 368 352 304
WIRE -128 416 -128 208
WIRE -128 416 -208 416
WIRE -80 416 -80 352
WIRE -32 416 -80 416
WIRE 0 416 0 384
WIRE 0 416 -32 416
WIRE -32 448 -32 416
WIRE 352 448 352 368
WIRE 416 448 416 400
FLAG 352 448 0
FLAG 96 80 a
FLAG 96 112 b
FLAG -480 -16 0
FLAG 352 368 VGND
FLAG 352 48 VDD
FLAG -64 624 0
FLAG -64 544 VDD
FLAG 128 544 f_in
FLAG -80 80 f_in
FLAG 576 208 dem_out
FLAG -96 176 out
FLAG -32 448 0
FLAG -64 208 comp_in
FLAG 448 176 vco_in
FLAG 576 240 pulsos_de_fase
FLAG 416 448 0
FLAG 544 176 0
FLAG 128 624 0
FLAG -464 784 0
FLAG 128 784 0
FLAG -464 704 sw1
FLAG 128 704 sw2
SYMBOL CD4046Bg 224 224 R0
SYMATTR InstName U1
SYMBOL voltage -64 528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 38 59 Left 2
SYMATTR Value {vdd}
SYMATTR InstName V2
SYMBOL res 448 96 R90
WINDOW 0 11 21 VBottom 2
WINDOW 3 -16 -26 VTop 2
SYMATTR InstName R3
SYMATTR Value {R3}
SYMBOL cap 64 64 R90
WINDOW 0 2 62 VBottom 2
WINDOW 3 -27 18 VTop 2
SYMATTR InstName C1
SYMATTR Value {C1}
SYMBOL cap 560 176 R180
WINDOW 0 -29 53 Left 2
WINDOW 3 -90 55 Left 2
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL res -96 256 R0
WINDOW 0 35 57 Left 2
WINDOW 3 21 83 Left 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res -16 288 R0
WINDOW 3 22 83 Left 2
WINDOW 0 36 53 Left 2
SYMATTR Value {R2}
SYMATTR InstName R2
SYMBOL res 400 304 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL CD4017B -320 -96 R0
SYMATTR InstName U2
SYMBOL bv 128 528 R0
WINDOW 3 42 52 Left 2
SYMATTR Value V=if((time>2.5m),{V(sw2)},{V(sw1)})
SYMATTR InstName B1
SYMBOL voltage -464 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 41 54 Left 2
SYMATTR Value PULSE(0 {vdd} 0 1p 1p {1/(2*f1)} {1/f1})
SYMATTR InstName V3
SYMBOL voltage 128 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 42 53 Left 2
SYMATTR Value PULSE(0 {vdd} 0 1p 1p {1/(2*f2)} {1/f2})
SYMATTR InstName V4
TEXT -472 592 Left 2 !.tran 0 5m 0 10n startup
TEXT -472 560 Left 2 !.inc CD4046Bg.sub
TEXT -472 528 Left 2 !.inc ../CD4000_v.lib
TEXT -48 -128 Left 2 !.param R1=3.3k R2=10k C1=820p
TEXT -48 -96 Left 2 !.param R3=3.9k C2=10n
TEXT 392 -128 Left 2 ;Oscilador interno del VCO
TEXT 392 -96 Left 2 ;Filtro RC
TEXT -48 -64 Left 2 !.param f1=16k f2=24k vdd=12
